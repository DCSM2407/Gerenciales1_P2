<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MayaCode | Café Premium</title>
    <link rel="icon" href="images/logo-r.ico" type="image/logo-r.ico" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />    
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        /* CSS completo con carrito flotante y botón icono */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #fff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: #2c1810;
            color: white;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .navbar {
            padding: 1rem 0;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo img {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 50%;
            border: 2px solid #d4a574;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-menu a:hover {
            color: #d4a574;
        }

        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            transition: 0.3s;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #2c1810 0%, #4a2c1a 100%);
            color: white;
            padding: 150px 0 100px;
            text-align: center;
            margin-top: 80px;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Buttons */
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s;
            text-align: center;
        }

        .btn-primary {
            background: #d4a574;
            color: white;
        }

        .btn-primary:hover {
            background: #b8935f;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid #d4a574;
        }

        .btn-secondary:hover {
            background: #d4a574;
            color: white;
        }

        .btn-large {
            padding: 18px 40px;
            font-size: 1.1rem;
        }

        /* Productos */
        .productos {
            padding: 100px 0;
            background: #f8f9fa;
        }

        .productos h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #2c1810;
        }

        .productos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 3rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .producto-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .producto-card:hover {
            transform: translateY(-10px);
        }

        .producto-card img {
            width: 100%;
            height: 280px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 1.5rem;
        }

        .producto-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #2c1810;
        }

        .producto-card p {
            color: #666;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .precio {
            font-size: 1.3rem;
            font-weight: 700;
            color: #d4a574;
            margin-bottom: 1.5rem;
        }

        label {
            font-weight: 600;
            display: block;
            margin-bottom: 0.3rem;
        }

        .cantidad-input {
            width: 60px;
            padding: 6px 8px;
            border-radius: 6px;
            border: 1.5px solid #ccc;
            margin-bottom: 1rem;
            font-size: 1rem;
        }

        /* Botón icono carrito flotante */
        .btn-carrito-icon {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: #d4a574;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 28px;
            color: white;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1500;
            outline: none;
            transition: background-color 0.3s;
        }

        .btn-carrito-icon:hover {
            background-color: #b8935f;
        }

        /* Contador del carrito sobre el icono */
        .contador-carrito {
            position: absolute;
            top: 5px;
            right: 5px;
            background: red;
            color: white;
            font-size: 12px;
            padding: 2px 6px;
            border-radius: 50%;
            font-weight: 700;
            user-select: none;
        }

        /* Carrito ventana flotante */
        .carrito-flotante {
            position: fixed;
            top: 60px;
            right: 30px;
            width: 320px;
            max-height: 80vh;
            background: white;
            color: #333;
            border-radius: 10px;
            box-shadow: 0 20px 55px rgba(0, 0, 0, 0.25);
            padding: 1rem;
            display: flex;
            flex-direction: column;
            transform: translateX(110%);
            transition: transform 0.3s ease-in-out;
            z-index: 1600;
            overflow-y: auto;
        }

        /* Mostrar carrito flotante */
        .carrito-flotante.mostrar {
            transform: translateX(0);
        }

        /* Header carrito */
        .carrito-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            border-bottom: 1px solid #ccc;
            padding-bottom: 0.5rem;
        }

        .carrito-header h2 {
            font-size: 1.5rem;
            color: #2c1810;
        }

        .carrito-header button {
            background: none;
            border: none;
            font-size: 1.6rem;
            cursor: pointer;
            color: #d4a574;
            font-weight: 700;
        }

        .carrito-header button:hover {
            color: #b8935f;
        }

        /* Ajustar botones eliminar */
        #carrito-items li button {
            margin-left: 8px;
        }

        /* Carrito estilos */
        .carrito {
            padding: 40px 0;
            background: #f9f9f9;
        }

        .carrito h2 {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
        }

        #carrito-items {
            list-style: none;
            padding: 0;
            margin-bottom: 20px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        #carrito-items li {
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        #carrito-items li button {
            background: #d4a574;
            border: none;
            padding: 6px 16px;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            font-weight: 700;
            transition: background 0.3s;
        }

        #carrito-items li button:hover {
            background: #b8935f;
        }

        .total {
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            max-width: 700px;
            margin: 0 auto 30px auto;
        }

        /* Nosotros */
        .nosotros {
            padding: 100px 0;
        }

        .nosotros-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .nosotros-texto h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #2c1810;
        }

        .nosotros-texto p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            color: #666;
        }

        .ventajas {
            list-style: none;
            padding-left: 0;
        }

        .ventajas li {
            padding: 0.5rem 0;
            font-size: 1.1rem;
            color: #2c1810;
        }

        .nosotros-imagen img {
            width: 100%;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        /* Contacto */
        .contacto {
            padding: 100px 0;
            background: #f8f9fa;
        }

        .contacto h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #2c1810;
        }

        .formulario-cotizacion {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 3rem;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #2c1810;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #d4a574;
        }

        /* Footer */
        .footer {
            background: #2c1810;
            color: white;
            padding: 3rem 0 1rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-logo h3 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .footer-contact h4 {
            margin-bottom: 1rem;
            color: #d4a574;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid #4a2c1a;
            color: #999;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hamburger {
                display: flex;
            }

            .nav-menu {
                position: fixed;
                left: -100%;
                top: 70px;
                flex-direction: column;
                background-color: #2c1810;
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 2rem 0;
            }

            .nav-menu.active {
                left: 0;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .nosotros-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .logo {
                font-size: 1.6rem;
            }

            .logo img {
                width: 50px;
                height: 50px;
                margin-right: 12px;
            }

            .producto-card img {
                height: 250px;
            }

            .carrito-flotante,
            .btn-carrito-icon {
                width: 90vw;
                right: 5vw;
                top: 60px;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <img src="images/logo.png" alt="MayaCode Logo" />
                </div>
                <ul class="nav-menu">
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#productos">Productos</a></li>
                    <li><a href="#nosotros">Nosotros</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="inicio" class="hero">
        <div class="hero-content">
            <img src="images/logo-t.png" width="200">
            <h1>Café Premium Guatemalteco</h1>
            <p>Descubre el sabor auténtico de Guatemala con nuestro nuevo <strong>Café Soluble</strong> y café en grano
                personalizado</p>
            <div class="hero-buttons">
                <a href="#productos" class="btn btn-primary">Ver Productos</a>
                <a href="#contacto" class="btn btn-secondary">Cotizar Ahora</a>
            </div>
        </div>
    </section>

    <!-- Productos -->
    <section id="productos" class="productos">
        <div class="container">
            <h2>Nuestros Productos</h2>
            <div class="productos-grid">
                <!-- Café Soluble -->
                <div class="producto-card" data-id="1" data-nombre="Café Soluble Premium" data-precio="45">
                    <img src="images/cafe-soluble.png" alt="Café Soluble MayaCode" />
                    <h3>Café Soluble Premium</h3>
                    <p>Café 100% guatemalteco, procesado con la mejor tecnología para conservar sabor y aroma.</p>
                    <div class="precio">Q.45.00</div>
                    <label for="cantidad1">Cantidad:</label>
                    <input type="number" id="cantidad1" min="1" value="1" class="cantidad-input" />
                    <button class="btn btn-primary agregar-carrito">Agregar al carrito</button>
                </div>

                <!-- Café en Grano -->
                <div class="producto-card" data-id="2" data-nombre="Café en Grano al Gusto" data-precio="60">
                    <img src="images/cafe-grano.png" alt="Café en Grano MayaCode" />
                    <h3>Café en Grano al Gusto</h3>
                    <p>Café personalizado: tostado, origen y preparación según preferencia. El mejor café para tu
                        paladar.</p>
                    <div class="precio">Q.60.00</div>
                    <label for="cantidad2">Cantidad:</label>
                    <input type="number" id="cantidad2" min="1" value="1" class="cantidad-input" />
                    <button class="btn btn-primary agregar-carrito">Agregar al carrito</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Carrito flotante -->
    <aside id="carrito-flotante" class="carrito-flotante" aria-hidden="true" aria-label="Carrito de compras">
        <header class="carrito-header">
            <h2>Tu Carrito</h2>
            <button id="btn-cerrar-carrito" aria-label="Cerrar carrito">&times;</button>
        </header>
        <ul id="carrito-items"></ul>
        <div class="total">
            <strong>Total: Q.<span id="total-carrito">0.00</span></strong>
        </div>
        <button id="checkout" class="btn btn-primary" disabled>Pagar Ahora</button>
    </aside>

    <!-- Botón icono carrito flotante -->
    <button id="btn-toggle-carrito" class="btn-carrito-icon" aria-label="Abrir carrito">
        🛒
        <span id="contador-carrito" class="contador-carrito">0</span>
    </button>

    <!-- Sobre Nosotros -->
    <section id="nosotros" class="nosotros">
        <div class="container">
            <div class="nosotros-content">
                <div class="nosotros-texto">
                    <h2>20 Años de Tradición Cafetalera</h2>
                    <p>MayaCode es una empresa familiar guatemalteca con dos décadas de experiencia en la producción de
                        café de alta calidad. Nos especializamos en café premium que refleja la riqueza de nuestras
                        tierras volcánicas.</p>
                    <ul class="ventajas">
                        <li>✓ Café 100% guatemalteco</li>
                        <li>✓ Proceso artesanal y tecnológico</li>
                        <li>✓ Personalización según el cliente</li>
                        <li>✓ Garantía de calidad y frescura</li>
                    </ul>
                </div>
                <div class="nosotros-imagen">
                    <img src="images/plantacion.jpg" alt="Plantación de café" />
                </div>
            </div>
        </div>
    </section>

    <!-- Formulario de Contacto -->
    <section id="contacto" class="contacto">
        <div class="container">
            <h2>Solicita tu Cotización</h2>
            <form class="formulario-cotizacion" id="formularioCotizacion">
                <div class="form-group">
                    <label for="nombre">Nombre Completo *</label>
                    <input type="text" id="nombre" name="nombre" required />
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required />
                    </div>
                    <div class="form-group">
                        <label for="telefono">Teléfono *</label>
                        <input type="tel" id="telefono" name="telefono" required />
                    </div>
                </div>
                <div class="form-group">
                    <label for="producto">Producto de Interés *</label>
                    <select id="producto" name="producto" required>
                        <option value="">Selecciona un producto</option>
                        <option value="soluble">Café Soluble Premium</option>
                        <option value="grano">Café en Grano al Gusto</option>
                        <option value="ambos">Ambos productos</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="cantidad">Cantidad Estimada</label>
                    <select id="cantidad" name="cantidad">
                        <option value="">Selecciona cantidad</option>
                        <option value="1-10">1-10 libras</option>
                        <option value="11-50">11-50 libras</option>
                        <option value="51-100">51-100 libras</option>
                        <option value="100+">Más de 100 libras</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="mensaje">Mensaje Adicional</label>
                    <textarea id="mensaje" name="mensaje" rows="4"
                        placeholder="Cuéntanos sobre tus preferencias específicas..."></textarea>
                </div>
                <button type="submit" class="btn btn-primary btn-large">Enviar Cotización</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h3>MayaCode</h3>
                    <p>Café Premium Guatemalteco</p>
                </div>
                <div class="footer-contact">
                    <h4>Contacto</h4>
                    <p>📱 +502 1234-5678</p>
                    <p>📧 info@mayacode.gt</p>
                    <p>📍 Guatemala, Guatemala</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 MayaCode. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // script.js completo con carrito flotante y funcionalidad

        document.addEventListener('DOMContentLoaded', () => {
            // Referencias principales
            const btnToggleCarrito = document.getElementById('btn-toggle-carrito');
            const carritoFlotante = document.getElementById('carrito-flotante');
            const btnCerrarCarrito = document.getElementById('btn-cerrar-carrito');
            const contadorCarrito = document.getElementById('contador-carrito');
            const carritoItems = document.getElementById('carrito-items');
            const totalCarrito = document.getElementById('total-carrito');
            const btnCheckout = document.getElementById('checkout');

            // Array para almacenar productos en carrito
            let carrito = [];

            // Función para abrir/cerrar carrito flotante
            function toggleCarrito() {
                carritoFlotante.classList.toggle('mostrar');
                const isVisible = carritoFlotante.classList.contains('mostrar');
                carritoFlotante.setAttribute('aria-hidden', !isVisible);
            }

            // Evento abrir carrito
            btnToggleCarrito.addEventListener('click', () => {
                toggleCarrito();
            });

            // Evento cerrar carrito
            btnCerrarCarrito.addEventListener('click', () => {
                toggleCarrito();
            });

            // Agregar productos al carrito
            document.querySelectorAll('.agregar-carrito').forEach(btn => {
                btn.addEventListener('click', () => {
                    const productoCard = btn.closest('.producto-card');
                    const id = productoCard.dataset.id.toString();
                    const nombre = productoCard.dataset.nombre;
                    const precio = parseFloat(productoCard.dataset.precio);
                    const cantidadInput = productoCard.querySelector('.cantidad-input');
                    let cantidad = parseInt(cantidadInput.value);
                    if (isNaN(cantidad) || cantidad < 1) cantidad = 1;

                    // Verificar si producto ya existe en carrito
                    const productoExistente = carrito.find(p => p.id === id);
                    if (productoExistente) {
                        productoExistente.cantidad += cantidad;
                    } else {
                        carrito.push({ id, nombre, precio, cantidad });
                    }

                    // Reset cantidad input a 1
                    cantidadInput.value = 1;

                    // Actualizar carrito visual y contador
                    actualizarCarrito();

                    // Abrir carrito automáticamente al agregar producto
                    carritoFlotante.classList.add('mostrar');
                    carritoFlotante.setAttribute('aria-hidden', false);
                });
            });

            // Función para actualizar el contenido del carrito y total
            function actualizarCarrito() {
                carritoItems.innerHTML = '';
                let total = 0;

                if (carrito.length === 0) {
                    carritoItems.innerHTML = '<li>El carrito está vacío.</li>';
                    totalCarrito.textContent = '0.00';
                    btnCheckout.disabled = true;
                    contadorCarrito.textContent = '0';
                    return;
                }

                carrito.forEach(producto => {
                    const subtotal = producto.precio * producto.cantidad;
                    total += subtotal;

                    const li = document.createElement('li');
                    li.textContent = `${producto.nombre} x${producto.cantidad} - Q.${subtotal.toFixed(2)}`;

                    const btnEliminar = document.createElement('button');
                    btnEliminar.textContent = 'Eliminar';
                    btnEliminar.classList.add('btn');
                    btnEliminar.style.marginLeft = '10px';
                    btnEliminar.onclick = () => {
                        carrito = carrito.filter(p => p.id !== producto.id);
                        actualizarCarrito();
                    };

                    li.appendChild(btnEliminar);
                    carritoItems.appendChild(li);
                });

                totalCarrito.textContent = total.toFixed(2);
                btnCheckout.disabled = false;
                contadorCarrito.textContent = carrito.reduce((acc, p) => acc + p.cantidad, 0);
            }

            // Evento para finalizar compra
            btnCheckout.addEventListener('click', () => {
                if (carrito.length === 0) {
                    alert('Tu carrito está vacío.');
                    return;
                }
                // Guardar carrito en localStorage
                localStorage.setItem('detalleCompra', JSON.stringify(carrito));

                // Redirigir a página de resumen
                window.location.href = 'resumen-compra.html';
            });

            // Formulario de contacto - confirmación simple
            const formulario = document.getElementById('formularioCotizacion');
            if (formulario) {
                formulario.addEventListener('submit', function (e) {
                    e.preventDefault();

                    const formData = new FormData(formulario);
                    const data = Object.fromEntries(formData);

                    Swal.fire({
                        title: '¡Gracias por tu solicitud!',
                        text: `Hola ${data.nombre}, hemos recibido tu solicitud de cotización. Nos pondremos en contacto contigo pronto.`,
                        icon: 'success',
                        confirmButtonColor: '#d4a574',
                        confirmButtonText: 'Cerrar'
                    });

                    formulario.reset();
                });
            }
            // Inicializar contador y carrito vacíos al cargar
            actualizarCarrito();

            // Menú móvil toggle
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            if (hamburger && navMenu) {
                hamburger.addEventListener('click', () => {
                    navMenu.classList.toggle('active');
                });
                document.querySelectorAll('.nav-menu a').forEach(link => {
                    link.addEventListener('click', () => {
                        navMenu.classList.remove('active');
                    });
                });
            }

            // Scroll suave para enlaces
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', e => {
                    e.preventDefault();
                    const target = document.querySelector(anchor.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
        });
    </script>
</body>

</html>